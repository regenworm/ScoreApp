<head>
    <title>score-app</title>
    <meta http-equiv="cleartype" content="on">
    <meta name="MobileOptimized" content="320">
    <meta name="HandheldFriendly" content="True">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
</head>

<body>
</body>

<!-- What is displayed on all pages -->
<template name="main">
    <div id="slideout-menu">
        <strong>Menu</strong>
        <br />
        {{> menuItems}}
    </div>
    <div id="content">
        <button id="toggle">
            <i class="fa fa-bars"></i>
        </button>
        <h1>Tournaments</h1>
        {{> navigation}}
        {{> yield}}
        <hr />
        <p>Copyright &copy; Tournaments, 2015-2016.</p>
    </div>
</template>

<!-- menu items in sidebar -->
<template name="menuItems">
    <ul>
        <li><a href="/">Home</a></li>
        {{#if Template.subscriptionsReady}}
            {{#each tournament}}
                {{> menuTournament}}
            {{/each}}
        {{else}}
            {{> loading}}
        {{/if}}
        {{#if currentUser}}
            <li><a href="#" class="logout">Logout</a></li>
        {{else}}
            <li><a href="{{pathFor route='register'}}">Register</a></li>
            <li><a href="{{pathFor route='login'}}">Login</a></li>
        {{/if}}
    </ul>
</template>

<!-- menu tournament items -->
<template name="menuTournament">
    <li>
        <a href="{{pathFor route='tournament'}}" class="menuItem" skipir>{{name}}</a> 
        <ul>
            {{#each field}}
                {{> fieldItem tournamentId=tournament}}
            {{/each}}
        </ul>
    </li>
</template>

<!-- Home page -->
<template name="homePage">
    <p>Welcome to the Score App application</p>
    {{> tournamentView}}
</template>

<!-- TournamentView -->
<template name="tournamentView">
    <h2>Tournaments</h2>
    <ul>
        {{#if Template.subscriptionsReady}}
            {{#each tournament}}
                {{> tournamentItem}}
            {{/each}}
        {{else}}
            {{> loading}}
        {{/if}}
    </ul>
    {{> tournamentsCount}}
</template>

<!-- Each tournament has an own link -->
<template name="tournamentItem">
    <li><a href="{{pathFor route='tournament'}}">{{name}}</a> 
    </li>
</template>

<!-- Count the number of tournaments and display it -->
<template name="tournamentsCount">
    {{#if totalTournaments}}
        <p>Er zijn {{totalTournaments}} tournaments.</p>
    {{/if}}
</template>

<!-- Each tournament has an own page with his fields -->
<template name="fieldsView">
    <h2>{{name}}</h2>
    <ul>
        {{#if Template.subscriptionsReady}}
            {{#each field}}
                {{> fieldItem}}
            {{/each}}
        {{else}}
            {{> loading}}
        {{/if}}
    </ul>
</template>

<!-- Each field has an own link -->
<template name="fieldItem">
    <li><a href="{{pathFor route='field'}}">{{name}}</a></li>
</template>

<!-- Each field has an own page with his games -->
<template name="gamesView">
    <h2>{{name}}</h2>
    <ul>
        {{#if Template.subscriptionsReady}}
            {{#each game}}
                {{> gameItem}}
            {{/each}}
        {{else}}
            <li>Loading..</li>
        {{/if}}
    </ul>
</template>

<!-- What happens on a game view -->
<template name="gameView">
    <div class="row">
        <div class="col-xs-12" id="centerDiv">
            <h2>{{start}}</h2>            
        </div>
    </div>
    <div class="row">
        <div class="col-xs-5" id="centerDiv">
            <h2>Team 1</h2>
        </div>
        <div class="col-xs-2" id="centerDiv">
            <h2>VS</h2>
        </div>
        <div class="col-xs-5" id="centerDiv">
            <h2>Team 2</h2>
        </div>
    </div>
    <div class="row">
        <div class="col-xs-5" id="centerDiv">
            <button id="team_1_minus" class="btn btn-default">
                <i class="fa fa-minus fa-2x"></i>
            </button>
        </div>
        <div class="col-xs-2"></div>
        <div class="col-xs-5" id="centerDiv">
            <button id="team_2_minus" class="btn btn-default">
                <i class="fa fa-minus fa-2x"></i>
            </button>
        </div>
    </div>
    <div class="row">
        <div class="col-xs-5" id="centerDiv">
            <h1>5</h1>
        </div>
        <div class="col-xs-2" id="centerDiv">
            <h1>:</h1>
        </div>
        <div class="col-xs-5" id="centerDiv">
            <h1>1</h1>
        </div>
    </div>
    <div class="row">
        <div class="col-xs-5" id="centerDiv">
            <button id="team_1_plus" class="btn btn-default">
                <i class="fa fa-plus fa-2x"></i>
            </button>
        </div>
        <div class="col-xs-2"></div>
        <div class="col-xs-5" id="centerDiv">
            <button id="team_2_plus" class="btn btn-default">
                <i class="fa fa-plus fa-2x"></i>
            </button>
        </div>
    </div>
</template>

<!-- Each game has an own link -->
<template name="gameItem">
    <li><a href="{{pathFor route='game'}}">
        {{team_1_id}} vs {{team_2_id}}</a></li>
</template>

<!-- Register page -->
<template name="registerPage">
    <h2>Register</h2>
    <form class="register">
        <p>Email: <input type="email" name="email" required></p>
        <p>Password: <input type="password" name="password" required></p>
        <p><input type="submit" value="Register"></p>
    </form>
</template>

<!-- Login page -->
<template name="loginPage">
    <h2>Login</h2>
    <form class="login">
        <p>Email: <input type="email" name="email" required></p>
        <p>Password: <input type="password" name="password" required></p>
        <p><input type="submit" value="Login"></p>
    </form>
</template>

<!-- Navigation -->
<template name="navigation">
    <ul>
        <li><a href="{{pathFor route='home'}}">Home</a></li>
        {{#if currentUser}}
            <li><a href="#" class="logout">Logout</a></li>
        {{else}}
            <li><a href="{{pathFor route='register'}}">Register</a></li>
            <li><a href="{{pathFor route='login'}}">Login</a></li>
        {{/if}}
    </ul>
</template>

<!-- Loading -->
<template name="loading">
    <i class="fa fa-spinner fa-spin fa-4x"></i>
</template>
